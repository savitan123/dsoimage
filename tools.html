<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="canonical" href="https://dsoimage.com/tools.html">

    <title>Astronomy Tools ‚Äî Shimon Avitan</title>
    <meta name="description"
        content="Useful tools for astrophotography: Moon Phase, Twilight Clock, ISS Tracker, and more.">

    <!-- FORCE NEW VERSION v=11 -->
    <link rel="stylesheet" href="css/style.css?v=30">
</head>

<body>
    <div class="container">
        <button class="search-trigger floating-search" aria-label="Search site">üîç</button>

        <!-- TOPBAR (mobile) -->
        <header class="topbar">
            <button class="menu-btn menu-toggle" type="button" aria-label="Open menu" aria-controls="sidebar"
                aria-expanded="false">
                Menu
            </button>
            <div class="topbar-title">dsoimage.com</div>
        </header>

        <!-- Overlay for slide-in sidebar -->
        <div class="sidebar-overlay overlay" hidden></div>

        <!-- SIDEBAR -->
        <nav class="sidebar" id="sidebar" aria-label="Site menu">
            <div class="sidebar-header">
                <h2>Menu</h2>
                <button class="menu-close" type="button" aria-label="Close menu">√ó</button>
            </div>

            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="galaxies.html">Galaxies</a></li>
                <li><a href="nebulae.html">Nebulae</a></li>
                <li><a href="clusters.html">Star Clusters</a></li>
                <li><a href="equipment.html">Equipment</a></li>
                <li><a href="processing.html">Processing</a></li>
                <li><a href="weather.html">Weather</a></li>
                <li><a href="tools.html" class="active">Tools</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>

            <button id="red-mode-toggle" class="mode-toggle-btn">
                <span class="circle-icon"></span> Night Vision
            </button>

            <div class="sidebar-footer">
                <h2 class="sidebar-subtitle">Follow Me</h2>
                <ul>
                    <li><a href="https://www.instagram.com/avitan_shimon/" target="_blank" rel="noopener">Instagram</a>
                    </li>
                    <li><a href="https://www.facebook.com/shimon.avitan.79" target="_blank" rel="noopener">Facebook</a>
                    </li>
                    <li><a href="https://www.flickr.com/photos/193302744@N07/" target="_blank" rel="noopener">Flickr</a>
                    </li>
                </ul>
            </div>
        </nav>

        <!-- MAIN -->
        <main class="main-content">

            <h1>Astronomy Tools</h1>
            <p class="subtitle">
                Utilities to plan your imaging session.
                <br>
                <small style="color:#888;">Calculations default to Israel (31¬∞N, 35¬∞E).</small>
            </p>

            <div class="tools-grid">

                <!-- TOP GRID CONTAINER -->
                <div class="tools-top-grid">

                    <!-- 1. Moon Phase -->
                    <div class="tool-card" id="moon-tool">
                        <div class="tool-icon">üåë</div>
                        <h2>Moon Status</h2>
                        <div class="tool-content">
                            <div id="moon-phase-name" class="highlight-value">Loading...</div>
                            <div id="moon-illumination">Illumination: --%</div>
                            <div class="countdown-box">
                                <span id="days-to-new-moon" class="big-number">--</span>
                                <span class="small-label">Days to New Moon</span>
                            </div>
                        </div>
                    </div>

                    <!-- 2. Twilight Clock -->
                    <div class="tool-card" id="twilight-tool">
                        <div class="tool-icon">üåô</div>
                        <h2>Astro Darkness</h2>
                        <div class="tool-content">
                            <p>Imaging Window (Sun < -18¬∞):</p>
                                    <div class="time-range">
                                        <div class="time-box">
                                            <span class="label">Starts</span>
                                            <span id="dark-start" class="value">--:--</span>
                                        </div>
                                        <div class="time-box">
                                            <span class="label">Ends</span>
                                            <span id="dark-end" class="value">--:--</span>
                                        </div>
                                    </div>
                                    <div id="twilight-status" class="status-pill">Calculating...</div>
                        </div>
                    </div>

                    <!-- 3. ISS Tracker -->
                    <div class="tool-card" id="iss-tool">
                        <div class="tool-icon">üõ∞Ô∏è</div>
                        <h2>ISS Tracker</h2>
                        <div class="tool-content">
                            <div class="data-row">
                                <span>Lat:</span> <span id="iss-lat" class="mono">--</span>
                            </div>
                            <div class="data-row">
                                <span>Lon:</span> <span id="iss-lon" class="mono">--</span>
                            </div>
                            <div class="data-row">
                                <span>Vel:</span> <span id="iss-vel" class="mono">-- km/h</span>
                            </div>
                            <div id="iss-visibility" class="status-pill">Checking...</div>
                        </div>
                    </div>

                    <!-- 4. Planet Visibility -->
                    <div class="tool-card" id="planet-tool">
                        <div class="tool-icon">ü™ê</div>
                        <h2>Planets Tonight</h2>
                        <div class="tool-content">
                            <ul class="planet-list">
                                <li id="planet-venus"><span>Venus</span> <span class="badge">--</span></li>
                                <li id="planet-mars"><span>Mars</span> <span class="badge">--</span></li>
                                <li id="planet-jupiter"><span>Jupiter</span> <span class="badge">--</span></li>
                                <li id="planet-saturn"><span>Saturn</span> <span class="badge">--</span></li>
                            </ul>
                        </div>
                    </div>

                </div>
                <!-- END TOP GRID CONTAINER -->

                <!-- 5. Coordinate Converter -->
                <div class="tool-card wide-card" id="coord-tool">
                    <div class="tool-icon">üåê</div>
                    <h2>Coordinate Converter</h2>

                    <div class="tabs">
                        <button class="tab-btn active" onclick="switchTab('dec-to-dms')">Dec to DMS</button>
                        <button class="tab-btn" onclick="switchTab('dms-to-dec')">DMS to Dec</button>
                    </div>

                    <!-- Dec to DMS Form -->
                    <div id="dec-to-dms" class="tab-content active">
                        <div class="converter-row">
                            <input type="number" id="input-dec" placeholder="Decimal Degrees (e.g. 34.56)" step="any">
                            <button class="action-btn" onclick="convertDecToDms()">Convert</button>
                        </div>
                        <div class="result-box" id="result-dms">Result: --¬∞ --' --"</div>
                    </div>

                    <!-- DMS to Dec Form -->
                    <div id="dms-to-dec" class="tab-content">
                        <div class="converter-row multi-input">
                            <input type="number" id="input-d" placeholder="Deg" class="small-input">
                            <input type="number" id="input-m" placeholder="Min" class="small-input">
                            <input type="number" id="input-s" placeholder="Sec" class="small-input">
                            <button class="action-btn" onclick="convertDmsToDec()">Convert</button>
                        </div>
                        <div class="result-box" id="result-dec">Result: --</div>
                    </div>
                </div>

                <div class="tool-card wide-card" id="suggester-tool">
                    <div class="tool-icon">üî≠</div>
                    <h2 data-i18n="shoot_tonight">What to Shoot Tonight?</h2>
                    <div class="tool-content">
                        <p style="margin-bottom:15px; color:#aaa; font-size:14px;" data-i18n="shoot_desc">Find the best
                            Deep Sky Objects
                            visible right now from your location. Database: <strong>14,000+ items</strong> (Messier,
                            Caldwell, NGC, IC).</p>

                        <div class="suggester-controls"
                            style="display:flex; flex-wrap:wrap; gap:15px; justify-content:center; margin-bottom:20px;">

                            <div class="control-group">
                                <label style="display:block; font-size:12px; color:#888; margin-bottom:5px;"
                                    data-i18n="min_alt">Min
                                    Altitude:</label>
                                <select id="suggester-alt" class="small-input" style="width:120px;">
                                    <option value="10">10¬∞ (Horizon)</option>
                                    <option value="20">20¬∞</option>
                                    <option value="30" selected>30¬∞ (Good)</option>
                                    <option value="45">45¬∞ (High)</option>
                                    <option value="60">60¬∞ (Zenith)</option>
                                </select>
                            </div>

                            <div class="control-group">
                                <label style="display:block; font-size:12px; color:#888; margin-bottom:5px;"
                                    data-i18n="sort_by">Sort
                                    By:</label>
                                <select id="suggester-sort" class="small-input" style="width:120px;">
                                    <option value="alt_desc" selected>Highest Altitude</option>
                                    <option value="mag_asc">Brightest (Mag)</option>
                                </select>
                            </div>

                            <div class="control-group">
                                <label style="display:block; font-size:12px; color:#888; margin-bottom:5px;"
                                    data-i18n="filter_type">Filter
                                    Type:</label>
                                <select id="suggester-type" class="small-input" style="width:120px;">
                                    <option value="all" selected>Everything</option>
                                    <option value="G">Galaxies</option>
                                    <option value="Nb">Nebulae</option>
                                    <option value="Cl">Clusters</option>
                                    <option value="Pn">Planetary Nebs</option>
                                </select>
                            </div>


                            <div
                                style="display:flex; gap:10px; flex-wrap:wrap; width:100%; justify-content:center; margin-top:5px;">
                                <button class="action-btn" id="suggester-btn" style="height:38px; flex:1 1 140px;"
                                    data-i18n="find_targets">Find
                                    Targets üöÄ</button>
                                <button class="action-btn" id="best-tonight-btn"
                                    style="height:38px; flex:1 1 140px; background:linear-gradient(45deg, #ff9800, #ff5722);"
                                    data-i18n="tonights_best">üåü
                                    Tonight's Best</button>
                            </div>
                        </div>

                        <div id="suggester-loading" style="display:none; color:#1e90ff; margin-bottom:10px;">Searching
                            heavens...</div>
                        <div id="suggester-results"
                            style="max-height:400px; overflow-y:auto; text-align:left; background:rgba(0,0,0,0.2); border-radius:8px; padding:10px; border:1px solid #333;">
                            <div style="text-align:center; color:#666; padding:20px;">
                                Click "Find Targets" to load database.<br>
                                (Location: Tel Aviv, IL estimated)
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 7. VirtualSky Interactive Map (Desktop) / Stellarium + TheSkyLive (Mobile) -->
                <div class="tool-card wide-card" id="skymap-tool">
                    <div class="tool-icon">üåå</div>
                    <h2 data-i18n="live_skymap">Live Sky Map (Interactive)</h2>
                    <div class="tool-content">
                        <p style="margin-bottom:15px; color:#aaa; font-size:14px;">Interactive view (Drag to pan).</p>

                        <!-- Mobile Text (Replaces map on phone) -->
                        <div class="mobile-hint"
                            style="margin-bottom:15px; font-size:14px; display:none; text-align:center;">
                            <p style="color:#1e90ff; margin-bottom:15px;">Launch external map App:</p>

                            <div style="display:flex; flex-direction:column; gap:10px; align-items:center;">
                                <a href="https://theskylive.com/planetarium" target="_blank" class="action-btn"
                                    style="text-decoration:none; display:inline-block; width:100%; max-width:300px; background:#222; border:1px solid #444;">
                                    Open TheSkyLive ‚Üó
                                </a>
                            </div>
                        </div>

                        <!-- Iframe Container (Hidden on Mobile) -->
                        <div class="iframe-container">
                            <iframe width="100%" height="100%" frameborder="0" scrolling="no" marginheight="0"
                                marginwidth="0"
                                src="https://virtualsky.lco.global/embed/index.html?longitude=34.851&latitude=31.046&projection=stereo&constellations=true&constellationlabels=true&sho=false&showstarlabels=true&live=true&az=180"
                                allowTransparency="true" loading="lazy" style="border-radius:8px;">
                            </iframe>
                        </div>

                        <!-- Desktop Button -->
                        <div class="desktop-only-btn" style="margin-top:10px; text-align:center;">
                            <a href="https://virtualsky.lco.global/embed/index.html?longitude=34.851&latitude=31.046&projection=stereo&constellations=true&constellationlabels=true&sho=false&showstarlabels=true&live=true&az=180"
                                target="_blank" class="action-btn" style="text-decoration:none; display:inline-block;">
                                Open Full Screen Map ‚Üó
                            </a>
                        </div>
                    </div>
                </div>

            </div>

            <footer class="site-footer">
                <p>&copy; 2026 Shimon Avitan | dsoimage.com</p>
            </footer>

        </main>
    </div>

    <!-- Search Overlay -->
    <div id="search-overlay" class="search-overlay">
        <div class="search-box">
            <span class="search-close">&times;</span>
            <input type="search" id="search-input" class="search-input" placeholder="Search objects (e.g., M31)..."
                autocomplete="off">
            <div id="search-results" class="search-results"></div>
        </div>
    </div>

    <!-- Updated for Mobile Layout Fixes -->
    <script src="js/script.js?v=28"></script>
</body>

</html>
